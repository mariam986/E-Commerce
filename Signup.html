<!DOCTYPE html>
<html>
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>SIGNUP</title>
        <link rel="stylesheet" href="Ecom.css">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Josefin+Sans:ital,wght@0,100..700;1,100..700&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="mediaqueries.css">

    </head>
    <body>
        <div class="heading-bar">
            <div class="hh">
                <div class="class-1">
                    <div class="sub-1">
                            <img src="Vector.png" id="icon">
                            <p href="">usmanomolara05@gmail.com</p>
                    </div>
                    <div  class="sub-2">
                        <img src="Vector (2).png" id="icon">
                        <p href="">07069560776</p>
                    </div>
               </div>
               <div class="class-2">
                    <div  class="sub-3">
                        <p><a href="login.html" class="aa">login</a></p>
                        <img src="carbon_user.png" id="logo">
                    </div>
                    <div  class="sub-4">
                        <p class="">wishlist</p>
                        <img src="Vector (3).png" id="logo">
                    </div>
                        <img src="fluent_cart-24-regular.png" id="cart">
               </div>
           </div>

        </div>
        <div id="desktop-nav">
            <div class="dd">
                <div class="business-name"> Hekto</div>
                <div class="bar">
                    <ul class="nav-links">
                        <li><a href="#Home">Home</a></li>
                        <li><a href="#Pages">Pages</a></li>
                        <li><a href="#Products">Products</a></li>
                        <li><a href="#Blog">Blog</a></li>
                        <li><a href="#Shop">Shop</a></li>
                        <li><a href="#contact">Contact</a></li>
                    </ul>
                </div>
                <div class="search">
                    <input type="text" class="search-input" >
                    <button class="search-btn"> <img src="uil_search.png" class="search-btn img"></button>
                </div>
            </div>
        </div>
        <nav id="hamburger-nav">
            <div class="business-name">Hekto</div>
            <div class="hamburger-menu">
                <div class="hamburger-icon" onclick="toggleMenu()">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </div>
        </nav>
        
        <div id="overlay" class="overlay" onclick="toggleMenu()"></div>
        <div id="sidebar" class="sidebar">
            <a href="javascript:void(0)" class="closebtn" onclick="toggleMenu()">&times;</a>
            <ul class="menu-links">
                <li><a href="login.html">Log in</a></li>
                <li><a href="login.html">Home</a></li>
                <li><a href="login.html">Pages</a></li>
                <li><a href="login.html">Products</a></li>
                <li><a href="login.html">Blog</a></li>
                <li><a href="login.html">Shop</a></li>
                <li><a href="login.html">Contact</a></li>
                <li><a href="login.html">About us</a></li>
            </ul>
        </div>
        <div class="login">
            <div class="log-in">
                <div class="line-1">
                    <p>My Account</p>
                </div>
                <div class="line-2">
                    <p>Home,</p>
                    <p>Pages,</p>
                    <p>My Account</p>
                </div>
           </div>
        </div>
        <div class="logging">
            <div class="loggin">
                <div class="Please-1">
                    <h2 >Sign up</h2>
                </div> 
                <div class="please-2">  
                    <p>Please signup using account detail bellow.</p>
                </div>
                <div >
                    <input type="text" placeholder="Username" class="please-3" id="Username">
                </div>
                <div >    
                    <input type="password" placeholder="Password" class="please-3" id="Password">
                </div>
                <div >    
                    <input type="password" placeholder="confirm password" class="please-3" id="confirmPassword">
                </div>
                
                <div>
                    <button class="sign-btn" onclick="fetchdata()">Sign up</button>
                </div>
                
            </div>
        </div>
        <div class="log">
            <img src="image 1174.png" class="yot">
        </div>
        <div class="foot">
            <div class="footing">
                <div class="">
                    <div class="name"> Hekto</div>
                    <div class="in-put">
                        <input type="text" placeholder="Enter Email Address" class="holder">
                        <button class="up-btn">sign up</button>
                    </div>
                    <div class="address">
                        <p>contact info</p>
                        <p>17 Princess Road, London, Greater London NW1 8JR, UK</p>
                    </div>

                </div>
                <div>
                    <div class="devices">
                        <div class="test">
                            <p class="test"> Categories</p>
                        </div>
                        <div class="device">
                            <p>Laptops & Computers</p>
                            <p>Cameras & Photography</p>
                            <p>Smart Phones & Tablets</p>
                            <p>Video Games & Consoles</p>
                            <p>Waterproof Headphones</p>
                        </div>
                        
                    </div>
                </div>
                <div class="devices">
                    <p class="test"> Customer Care</p>
                    <div class="device">
                        <p>My Accounts</p>
                        <p>Discounts</p>
                        <p>Return</p>
                        <p>Orders History</p>
                        <p>Order packing</p>
                    </div>
                </div>
                <div class="devices">
                    <p class="test">Pages</p>
                    <div class="device">
                        <p>Shop</p>
                        <p>Browse the shop</p>
                        <p>Category</p>
                        <p>Pre built pages</p>
                        <p>Visual composer element</p>
                        <p>Woocommerce pages</p>
                    </div>
                </div>
            </div>
        </div>
        <footer class="bottom">
            <div class="down-top">
                <div class="tesst">
                    <p>Â©Webecy - All Rights Reserved</p>
                </div>
                <div>
                    <img src="Group 205.png">
                </div>
            </div>
        </footer>
       
       
       
       
       <script>
              async function fetchdata() {
                const Username = document.getElementById("Username").value;
                const Password = document.getElementById("Password").value;
                const confirmPassword = document.getElementById("confirmPassword").value;
                
                if (Username === '' && Password === '' && confirmPassword === '') {
                    alert('you must write something');
                } else if (Username !== '' && Password === '' && confirmPassword === '')  {
                    alert('please enter password');
                } else if (Username !== '' && Password !== '' && confirmPassword === '') {
                    alert('confirm password');
                } else if ( Password !== confirmPassword){
                    alert( 'password do not match');
                } 
                else {
                try{ 
                    const response = await fetch("https://readerapi.onrender.com/signup/",
                    {
                            method: "POST",
                            headers: {
                                "Content-Type": "application/json",
                            },
                            body: JSON.stringify ({
                                username: Username,
                                password: Password,
                            })
                            })
                            if (!response.ok) {
                             throw new Error('Failed to signup, please check your credentials.');
                             }

                    
                    const data = await response.json();
                
                    console.log(data);


                    if (data.id) {
                window.location.href = "login.html";

            } else{
                alert('Sign up')
            }

           
                

                    

                } 
            
                
                catch (error){
                    console.error(error);
                    alert('An error occurred. Please try again later.');
                    

                }
            }

            
                
            }

            
        </script>
        <script src="Ecom.js"></script>  
    </body>
</html>
       